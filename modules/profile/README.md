# Profile Module

–ú–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–º–∏ –ø–æ–ª—è–º–∏.

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `core` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ. 
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç "–º—è–≥–∫–∏–µ" –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è ‚Äî –±–µ–∑ –Ω–∏—Ö –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è,
–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º.

## UX-–ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ù–∏–∫–∞–∫–æ–π –æ–±—è–∑–∞–ª–æ–≤–∫–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Ä–∞–∑—É –≤ –±–æ—Ç–µ
2. **–ú—è–≥–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –Ω–µ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ–º —Å—Ç—Ä–æ–≥–∏–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏
3. **–õ–µ–Ω–∏–≤—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø—Ä–æ—Å–∏–º –∫–æ–≥–¥–∞ —Ä–µ–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ

## Handlers

| Trigger | Handler | Description |
|---------|---------|-------------|
| `üë§ –ü—Ä–æ—Ñ–∏–ª—å` | `show_profile` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `callback:edit_*` | `edit_field` | –ù–∞—á–∏–Ω–∞–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—è |
| Text (–≤ —Ä–µ–∂–∏–º–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è) | `save_field` | –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| `fields` | array | ["name", "phone", "email"] | –ö–∞–∫–∏–µ –ø–æ–ª—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å |
| `required_fields` | array | [] | –ü–æ–ª—è, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π |

## –ü–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è

| Field | Validation | Description |
|-------|------------|-------------|
| `name` | 2-50 —Å–∏–º–≤–æ–ª–æ–≤ | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `phone` | —Ü–∏—Ñ—Ä—ã, +, –ø—Ä–æ–±–µ–ª—ã | –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ |
| `email` | —Å–æ–¥–µ—Ä–∂–∏—Ç @ | Email –∞–¥—Ä–µ—Å |

## –ú—è–≥–∫–∞—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ï—Å–ª–∏ `required_fields = ["phone"]`:
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∫–ª—é—á–µ–≤–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è ‚Üí "–£–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è"
- –î—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —á–µ—Ä–µ–∑ `profile.check_required(user_id, bot_id)`

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É `users` (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞):
- `name` VARCHAR(100)
- `phone` VARCHAR(20)
- `email` VARCHAR(100)

## –°–æ–±—ã—Ç–∏—è

### –ò—Å–ø—É—Å–∫–∞–µ—Ç
- `profile.field_updated` ‚Äî `{ user_id, field, old_value, new_value }`
- `profile.requirements_met` ‚Äî `{ user_id }` ‚Äî –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

### –°–ª—É—à–∞–µ—Ç
–ù–µ—Ç

## API –¥–ª—è –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π

```python
from modules.profile import profile_module

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
is_complete = await profile_module.check_required(user_id, bot_id)

# –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å
if not is_complete:
    await profile_module.request_required_fields(message, bot_id)
    return
```
