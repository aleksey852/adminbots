# Admin Bots Platform - Multi-Bot Management üöÄ

–ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º Telegram –±–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ–¥–Ω—É –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —á–µ–∫–æ–≤—ã—Ö –ø—Ä–æ–º–æ-–∞–∫—Ü–∏–π, —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –∏ —Ä–∞—Å—Å—ã–ª–æ–∫.

## ‚ú® NEW in v2.2: Multi-Bot Support

**ü§ñ –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- –ü–æ–¥–∫–ª—é—á–∞–π—Ç–µ –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–æ—Ç–æ–≤ –≤ –æ–¥–Ω—É –ø–∞–Ω–µ–ª—å.
- **–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –£ –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞ —Å–≤–æ–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —á–µ–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- **–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –£–¥–æ–±–Ω—ã–π —Å–≤–∏—Ç—á–µ—Ä –±–æ—Ç–æ–≤ –≤ —Å–∞–π–¥–±–∞—Ä–µ.
- **Event-Driven Architecture**: –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è (—Ä–∞—Å—Å—ã–ª–∫–∏, —Ä–æ–∑—ã–≥—Ä—ã—à–∏) —á–µ—Ä–µ–∑ PostgreSQL NOTIFY/LISTEN.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/aleksey852/adminbots.git admin-bots-platform
cd admin-bots-platform

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É (Zero-Config)
sudo bash scripts/deploy.sh
```

–°–∫—Ä–∏–ø—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π**:
1. –°–∞–º —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–∞—Ä–æ–ª–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç –¥–æ—Å—Ç—É–ø –ø–æ IP –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞.
3. –í –∫–æ–Ω—Ü–µ –≤—ã–¥–∞—Å—Ç **–ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å** –æ—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–æ–≤ –∏ —Ç–æ–∫–µ–Ω–æ–≤ –≤—ã —Å–¥–µ–ª–∞–µ—Ç–µ —É–∂–µ –≤–Ω—É—Ç—Ä–∏ –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
sudo bash /opt/admin-bots-platform/scripts/update.sh
```

–°–∫—Ä–∏–ø—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
1. üì• –°–∫–∞—á–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞ (git pull).
2. üì¶ –û–±–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (pip install).
3. ‚ôªÔ∏è –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å—ã.
4. ‚úÖ –ü—Ä–æ—Ä–∏—Ç —Å—Ç–∞—Ç—É—Å —Ä–∞–±–æ—Ç—ã.

## üíª –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –µ–¥–∏–Ω–æ–≥–æ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –±–æ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `aiogram` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:**
```
Admin Panel (FastAPI)      Bot Manager (Process)
      ‚îÇ                            ‚îÇ
      ‚îÇ   [Switch Context]         ‚îÇ 1. Load Active Bots
      ‚îÇ                            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ> Bot 1 (Token A)
      ‚îÇ                            ‚îú‚îÄ‚îÄ‚îÄ‚îÄ> Bot 2 (Token B)
      ‚îÇ                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ> ...
      ‚îÇ                                    ‚îÇ
      ‚îÇ      PostgreSQL DB                 ‚îÇ
      ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îÇ
      ‚îú‚îÄ‚îÄ>| bots (id, token)    |<‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
      ‚îÇ  | users (bot_id, ...) |           ‚îÇ
      ‚îÇ  | campaigns (bot_id)  |           ‚îÇ
      ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îÇ
      ‚îÇ             ‚îÇ NOTIFY               ‚îÇ
      ‚îÇ             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ> 2. LISTEN & ACT
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
admin-bots-platform/
‚îú‚îÄ‚îÄ main.py              # Entry point: –∑–∞–ø—É—Å–∫–∞–µ—Ç Bot Manager –∏ Scheduler
‚îú‚îÄ‚îÄ bot_manager.py       # [NEW] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –±–æ—Ç–æ–≤ (Start/Stop)
‚îú‚îÄ‚îÄ config.py            # –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (DB, Redis, Auth)
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ bot_db.py       # [NEW] –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ –ë–î –±–æ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ panel_db.py     # [NEW] –ë–î –ø–∞–Ω–µ–ª–∏ (—Ä–µ–µ—Å—Ç—Ä –±–æ—Ç–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
‚îÇ   ‚îî‚îÄ‚îÄ bot_methods.py  # [NEW] –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îú‚îÄ‚îÄ modules/            # [NEW] –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Core, Promo, Receipts)
‚îú‚îÄ‚îÄ admin_panel/
‚îÇ   ‚îú‚îÄ‚îÄ app.py          # –í–µ–±-–ø–∞–Ω–µ–ª—å + Middleware –¥–ª—è bot_id
‚îÇ   ‚îî‚îÄ‚îÄ routers/        # –ú–∞—Ä—à—Ä—É—Ç—ã API (Bots, Users, System)
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ deploy.sh       # Zero-Config —É—Å—Ç–∞–Ω–æ–≤–∫–∞
    ‚îî‚îÄ‚îÄ update.sh       # –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

## üåê –í–µ–±-–ø–∞–Ω–µ–ª—å

–î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: `https://your-domain.com`

### ü§ñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞–º–∏
- **–î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞**: `/bots/new` ‚Äî –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –∏–º—è, –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é.
- **–ò–∑–æ–ª—è—Ü–∏—è**: –í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Dashboard, Users, Settings) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ *—Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ* –±–æ—Ç–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –±–æ—Ç–∞)

| –†–∞–∑–¥–µ–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **Dashboard** | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –±—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –±–æ—Ç–∞. |
| **–†–∞—Å—Å—ã–ª–∫–∞** | –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–æ–∫ (—Ç–µ–∫—Å—Ç+—Ñ–æ—Ç–æ). –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫. |
| **–†–æ–∑—ã–≥—Ä—ã—à** | –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–π –ø—Ä–∏–∑–æ–≤ —Å—Ä–µ–¥–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. |
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** | CRM —Å–∏—Å—Ç–µ–º–∞: –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è, —á–µ–∫–æ–≤, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. |
| **–ß–µ–∫–∏** | –ú–æ–¥–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —á–µ–∫–æ–≤. |

### ‚öôÔ∏è –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–ö–∞–∂–¥—ã–π –±–æ—Ç –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ UI, –±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤:
- **–ü—Ä–æ–º–æ**: –ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ü–∏–∏, —Å—Ä–æ–∫–∏, –ø—Ä–∏–∑—ã.
- **–¢–µ–∫—Å—Ç—ã**: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è, —Å–æ–æ–±—â–µ–Ω–∏—è –æ –≤—ã–∏–≥—Ä—ã—à–µ/–ø—Ä–æ–∏–≥—Ä—ã—à–µ.
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ "–ü–æ–º–æ—â—å".
- **–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ —á–µ–∫–∞—Ö.

## üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°–µ—Ä–≤–∏—Å—ã systemd
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å –±–æ—Ç–æ–≤ (Manager + Scheduler)
sudo systemctl status admin_bots

# –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (Web)
sudo systemctl status admin_panel
```

### üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
# –õ–æ–≥–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
sudo journalctl -u admin_panel -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤ –ø–∞–Ω–µ–ª–∏
sudo journalctl -u admin_panel -n 100 --no-pager

# –õ–æ–≥–∏ –±–æ—Ç–æ–≤
sudo journalctl -u admin_bots -f

# –û—à–∏–±–∫–∏ Nginx
sudo tail -f /var/log/nginx/error.log
```

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ `/var/backups/admin-bots-platform/`.
–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫: `sudo bash /opt/admin-bots-platform/scripts/backup.sh`

### üöö –ú–∏–≥—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω —Ä–∞–∑–¥–µ–ª **Settings -> –ú–∏–≥—Ä–∞—Ü–∏—è**, –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ—à–∞–≥–æ–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –¥–ª—è –ø–µ—Ä–µ–µ–∑–¥–∞ –Ω–∞ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤.

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
–í —Ñ–∞–π–ª–µ `.env` —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ **—Å–∏—Å—Ç–µ–º–Ω—ã–µ** –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω—è —Å–µ—Ä–≤–µ—Ä–∞:
- `DATABASE_URL`, `REDIS_URL`
- `ADMIN_PANEL_USER`, `ADMIN_PANEL_PASSWORD` (–¥–æ—Å—Ç—É–ø –≤ –∞–¥–º–∏–Ω–∫—É)
- `ADMIN_SECRET_KEY`
- `PROVERKA_CHEKA_TOKEN` (API —á–µ–∫–æ–≤)

*–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–æ–≤ (—Ç–æ–∫–µ–Ω—ã, —Ç–µ–∫—Å—Ç—ã) —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.*

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**Issues:** [GitHub Issues](https://github.com/aleksey852/adminbots/issues)

**Version:** 2.2.0 (Multi-Bot)
**License:** MIT
